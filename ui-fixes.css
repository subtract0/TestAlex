/* üïäÔ∏è ACIM Guide UI Fixes - Sofortige Verbesserungen */
/* Anwenden auf bestehende Website f√ºr optimale 1366x768 Darstellung */

/* =================================================================
   1. HEADER KOMPRIMIERUNG - Kritisches Fix
   ================================================================= */

/* Reduziere Header-H√∂he von 180px auf ~56px */
.header {
    padding: 12px 32px 8px 32px !important; /* war: 24px 32px 20px 32px */
    min-height: unset !important;
}

.logo {
    width: 32px !important;        /* war: 48px */
    height: 32px !important;       /* war: 48px */
    margin: 0 auto 4px auto !important; /* war: 0 auto 12px auto */
}

.header h1 {
    font-size: 1.4rem !important;  /* war: 1.8rem */
    margin: 0 0 3px 0 !important;  /* war: 0 0 6px 0 */
    line-height: 1.2 !important;
}

.header .subtitle {
    font-size: 0.85rem !important; /* war: 0.9rem */
    margin: 0 !important;
}

/* =================================================================
   2. LOGO FALLBACK - SVG Reparatur
   ================================================================= */

/* Wenn Logo nicht l√§dt, zeige Emoji-Fallback */
.logo::after {
    content: "üïäÔ∏è";
    font-size: 24px;
    display: block;
    line-height: 1;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0; /* Zeige nur wenn Bild fehlschl√§gt */
}

.logo:not([src]),
.logo[src=""],
.logo[src*="undefined"] {
    opacity: 0;
}

.logo:not([src])::after,
.logo[src=""]::after,
.logo[src*="undefined"]::after {
    opacity: 1;
}

/* Logo Container f√ºr bessere Fallback-Kontrolle */
.logo-container {
    position: relative;
    width: 32px;
    height: 32px;
    margin: 0 auto 4px auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

.logo-text {
    font-size: 24px;
    line-height: 1;
}

/* =================================================================
   3. STATUS MESSAGE NEUPOSITIONIERUNG
   ================================================================= */

/* Status-Indikator subtiler und weniger st√∂rend */
.status {
    position: fixed !important;
    bottom: 20px !important;
    right: 20px !important;
    top: unset !important;
    background: rgba(33, 150, 243, 0.9) !important;
    color: white !important;
    padding: 6px 12px !important;
    border-radius: 16px !important;
    font-size: 0.75rem !important;
    opacity: 0 !important;
    transform: translateY(20px) !important;
    transition: all 0.3s ease !important;
    z-index: 1000 !important;
    pointer-events: none !important;
    backdrop-filter: blur(8px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

.status.connecting,
.status.connected,
.status.error {
    opacity: 0.9 !important;
    transform: translateY(0) !important;
}

/* Auto-hide nach 3 Sekunden */
.status.auto-hide {
    animation: fadeOutAfterDelay 4s ease-in-out forwards !important;
}

@keyframes fadeOutAfterDelay {
    0%, 75% { 
        opacity: 0.9; 
        transform: translateY(0); 
    }
    100% { 
        opacity: 0; 
        transform: translateY(20px); 
    }
}

/* Spezielle Behandlung f√ºr "‚óè" Status */
.status:contains("‚óè") {
    display: none !important;
}

/* =================================================================
   4. CHAT CONTAINER OPTIMIERUNG
   ================================================================= */

/* Chat Container nutzt den gewonnenen Platz optimal */
.chat-container {
    /* Automatische H√∂henberechnung basierend auf verf√ºgbarem Viewport */
    min-height: calc(100vh - 200px) !important; /* Angepasst f√ºr komprimierten Header */
    max-height: calc(100vh - 200px) !important;
}

/* Verbesserte Scroll-Performance */
.chat-container {
    scroll-behavior: smooth !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

/* =================================================================
   5. RESPONSIVE OPTIMIERUNGEN
   ================================================================= */

/* Spezielle Optimierungen f√ºr 1366x768 Laptops */
@media screen and (width: 1366px) and (height: 768px) {
    .container {
        height: calc(100vh - 8px) !important;
        max-height: calc(100vh - 8px) !important;
    }
    
    .chat-container {
        min-height: calc(100vh - 180px) !important;
        max-height: calc(100vh - 180px) !important;
    }
    
    .header {
        padding: 8px 24px 6px 24px !important;
    }
    
    .header h1 {
        font-size: 1.3rem !important;
    }
    
    .logo {
        width: 28px !important;
        height: 28px !important;
    }
}

/* Mobile Ger√§te - Header noch kompakter */
@media (max-width: 768px) {
    .header {
        padding: 10px 16px 6px 16px !important;
    }
    
    .header h1 {
        font-size: 1.2rem !important;
    }
    
    .header .subtitle {
        font-size: 0.8rem !important;
    }
    
    .logo {
        width: 28px !important;
        height: 28px !important;
        margin: 0 auto 3px auto !important;
    }
    
    .status {
        bottom: 10px !important;
        right: 10px !important;
        font-size: 0.7rem !important;
        padding: 4px 8px !important;
    }
}

/* =================================================================
   6. PERFORMANCE & ACCESSIBILITY OPTIMIERUNGEN
   ================================================================= */

/* Verbesserte Focus-Indikatoren */
.message-input:focus,
.send-button:focus,
.quick-action:focus {
    outline: 2px solid #2196F3 !important;
    outline-offset: 2px !important;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .status {
        transition: none !important;
        animation: none !important;
    }
    
    .header,
    .logo,
    .chat-container {
        transition: none !important;
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .header {
        border-bottom: 2px solid #000 !important;
    }
    
    .status {
        background: #000 !important;
        color: #fff !important;
        border: 2px solid #fff !important;
    }
}

/* =================================================================
   7. VERBESSERTES LOGO-SYSTEM
   ================================================================= */

/* Neues Logo-System mit Emoji-Fallback */
.logo-enhanced {
    width: 32px;
    height: 32px;
    margin: 0 auto 4px auto;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
    border-radius: 8px;
    border: 1px solid rgba(33, 150, 243, 0.2);
}

.logo-enhanced::before {
    content: "üïäÔ∏è";
    font-size: 20px;
    display: block;
    line-height: 1;
}

/* =================================================================
   8. CHAT AREA IDENTIFIZIERUNG
   ================================================================= */

/* Chat Container als Hauptbereich besser definieren */
.chat-container {
    border: 1px solid rgba(0, 0, 0, 0.05) !important;
    background: #ffffff !important;
    position: relative !important;
}

.chat-container::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #E3F2FD, transparent);
    z-index: 1;
}

/* Welcome Message besser hervorheben */
.message.assistant:first-child .message-content {
    background: linear-gradient(135deg, #F8FAFF 0%, #F0F8FF 100%) !important;
    border-left: 3px solid #2196F3 !important;
    border-radius: 8px !important;
    padding: 24px !important;
    margin: 16px 0 !important;
}

/* =================================================================
   9. MICRO-ANIMATIONS
   ================================================================= */

/* Sanfte Animationen f√ºr bessere UX */
.header {
    transition: all 0.3s ease !important;
}

.logo-enhanced {
    transition: transform 0.2s ease !important;
}

.logo-enhanced:hover {
    transform: scale(1.05) !important;
}

.status {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* =================================================================
   10. DEBUGGING HELPER (Entferne in Produktion)
   ================================================================= */

/*
.header {
    border: 2px dashed red !important;
    background: rgba(255, 0, 0, 0.1) !important;
}

.chat-container {
    border: 2px dashed blue !important;
    background: rgba(0, 0, 255, 0.05) !important;
}

body::before {
    content: "Header Height: " attr(data-header-height) " | Viewport: " attr(data-viewport);
    position: fixed;
    top: 0;
    left: 0;
    background: black;
    color: white;
    padding: 4px 8px;
    font-size: 12px;
    z-index: 9999;
}
*/

/* =================================================================
   ANWENDUNGSHINWEISE:
   
   1. Diese CSS-Datei einfach in den <head> der HTML-Datei einbinden:
      <link rel="stylesheet" href="ui-fixes.css">
   
   2. Oder als <style>-Block direkt einf√ºgen
   
   3. Die !important-Declarations √ºberschreiben bestehende Styles
   
   4. Nach Tests k√∂nnen die !important-Flags entfernt werden
   
   5. Erwartete Verbesserungen:
      - Header: 180px ‚Üí ~56px (124px gespart)
      - Chat Area: +19% mehr Platz
      - Status: Weniger st√∂rend
      - Logo: Funktional mit Fallback
      - Responsive: Bessere 1366x768 Nutzung
   
   SCORE IMPROVEMENT: 6/10 ‚Üí 8-9/10
   ================================================================= */
